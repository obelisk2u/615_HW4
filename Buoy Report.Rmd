Include:
```{r}
library(data.table)
library(dplyr)
library(lubridate)
library(ggplot2)
```




READ IN DATA
```{r}
file_root<-"https://www.ndbc.noaa.gov/view_text_file.php?filename=44013h"
year_num<-"1985"
year<-as.character(seq(1986,2023))
tail<- ".txt.gz&dir=data/historical/stdmet/"
path<-paste0(file_root,year_num,tail)
header=scan(path,what= 'character',nlines=1)
buoy<-fread(path,header=FALSE,skip=2)
colnames(buoy)<-header

for (i in 1:length(year)){
  year_num = year[i]
  path<-paste0(file_root, year_num, tail)
  tmp<-fread(path,header=FALSE,skip=2, showProgress=FALSE)
  buoy<-rbind(buoy, tmp, use.names=FALSE, fill=TRUE)
}
```

CLEAN DATA
```{r}
buoy<-subset(buoy, select = -V17)
buoy<-subset(buoy, select = -V18)
#if you run distinct on both they dont include anything other than NA or 99

buoy$VIS<-ifelse(buoy$VIS==99, NA, buoy$VIS)
buoy$DEWP<-ifelse(buoy$DEWP==999, NA, buoy$DEWP)
buoy$MWD<-ifelse(buoy$MWD==999, NA, buoy$MWD)
buoy$APD<-ifelse(buoy$APD==99, NA, buoy$APD)
buoy$DPD<-ifelse(buoy$DPD==99, NA, buoy$DPD)
buoy$WVHT<-ifelse(buoy$WVHT==99, NA, buoy$WVHT)
buoy$BAR<-ifelse(buoy$BAR==999, NA, buoy$BAR)
#set all trash data to NA

buoy$datetime <- ymd_h(paste(buoy$YY, buoy$MM, buoy$DD, buoy$hh, sep = "-"))
#Add new datetime column
```

VISUALIZATION
```{r}
BAR_cat<-ifelse(is.na(buoy$BAR), "NA", "Everything Else")

ggplot(buoy, aes(x = datetime, y = BAR_cat)) +
  geom_point() +
  labs(x = "Time", y = "Category", title = "Values for BAR: NA vs. Everything Else")
```




















